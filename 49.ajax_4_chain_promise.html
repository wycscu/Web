<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
	
	//callback hell
	var article = '';
	$.get('./p1.txt',function(p1){
		article += p1 +'<br>';
		$.get('./p2.txt',function(p2){
			article += p2 +'<br>';
			$.get('./p3.txt',function(p3){
				article += p3 +'<br>';
				$.get('./p4.txt',function(p4){
					article += p4 +'<br>';
					$('p').html(article);
				})
			})
		})
	})
	
	
	
	//promise
	  function getPara1(){
		  return new Promise(function(resolve,reject){
			  $.get('./p1.txt',function(p1){
				  resolve(p1);
			  })
		  })
	  }
	  function getPara2(){
	  		  return new Promise(function(resolve,reject){
	  			  $.get('./p2.txt',function(p2){
	  				  resolve(p2);
	  			  })
	  		  })
	  }
	  function getPara3(){
	  		  return new Promise(function(resolve,reject){
	  			  $.get('./p3.txt',function(p3){
	  				  resolve(p3);
	  			  })
	  		  })
	  }
	  function getPara4(){
	  		  return new Promise(function(resolve,reject){
	  			  $.get('./p4.txt',function(p4){
	  				  resolve(p4);
	  			  })
	  		  })
	  }
	  
	  var article_1 = '';
	  getPara1().then(function(p1){
		  article_1 += p1 + '<br>';
		  return getPara2();
	  }).then(function(p2){
		  article_1 += p2 + '<br>';
		  return getPara3();
	  }).then(function(p3){
		  article_1 += p3 + '<br>';
		  return getPara4();
	  }).then(function(p4){
		  article_1 += p4 + '<br>';
		  $('p1').html(article_1);
	  })
		
	</script>
	<body>
		<p></p>
		<p1></p1>
	</body>
</html>
