<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			//1.创建ajax对象
		
				function loadXMLDoc(){
					var xhr = new XMLHttpRequest();
					console.log(xhr.readyState);
					//4.监听请求
					xhr.onreadystatechange = function(){
						//当xhr对象的readyState属性发生改变时，这个事件就会触发
						//readyState：
						//===>0:XHR对象以及创建但是还没有进行初始化操作
						//===>1：xhr对象已经调用了open
						//===>2：xhr已经发送ajax请求（调用send)
						//===>3：xhr已经返回了部分数据
						//===>4：数据已经全部返回
						if(xhr.readyState !== 4){
							return;
						}
						if(xhr.status >= 200 && xhr.status <=300){
							document.querySelector('p').innerHTML = xhr.responseText;
						}else{
							console.log('request error！')
						}
					}
					//2.打开这个对象
					xhr.open('GET','test.txt',true); //true代表异步更新
					//3.发送请求
					xhr.send();
				
				
					}
			 
			 
		</script>
		<ul>
			<li>Ajax:Asynchronous JavaScript and XML </li>
			<li>Ajax是一种异步加载数据的技术，可以实现页面的局部更新</li>
			<li>Ajax的核心对象：XMLHttpRequest(XHR)</li>
			<li>核心方法：GET(数据存放在url中)；POST(数据存放在请求体中)</li>
		</ul>
		<button type="button" onclick="loadXMLDoc()">点击以触发事件</button>
		<p></p>
		
		
		<br><br>
		附加知识：<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status" target="_blank">HTTP response status code</a>
		<br>
		<ol>
			<li>Informational responses (100–199)</li>
			<li>Successful responses (200–299)</li>
			<li>Redirects (300–399)</li>
			<li>Client errors (400–499)</li>
			<li>Server errors (500–599)</li>
		</ol>
		部分参考状态码: <br>
		<img src="imgs/http%20status%20code%201.png" > <br>
		<img src="imgs/http%20status%20code%202.png" >
		
	</body>
</html>
