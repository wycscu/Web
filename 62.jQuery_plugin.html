<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<style>
		div{
			width: 200px;height: 200px;
		}
		
	</style>
	<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		(function($){
			$.fn.extend({
				randomColor:function(){
					console.log('ready');//确认是否已将函数挂上div
					function random(){//生成随机色
						var r = Math.floor(Math.random()*256);
						var g = Math.floor(Math.random()*256);
						var b = Math.floor(Math.random()*256);
						
						return 'rgb(' + r + ',' + g + ',' + b + ')';
						//return('rgb(100,100,100)')
					}
					this.each(function(index){
						//el===this
						$(this).css({
							backgroundColor:random()
						})
					})
					
					return this; //this指向的就是通过$取到的所有元素组成的伪数组
				}
			})
		})(jQuery);
		$(function(){
			$('div').randomColor();
		})
		
	</script>
	<body>
		<h1>jquery定义插件的四点</h1>
		<ol>
			<li>插件定义在jQuery.fn的基础上</li>
			<li>命名冲突的解决：立即执行函数防止$被占用</li>
			<li>循环jQuery对象中的每个元素</li>
			<li>在函数中将jQuery对象返回(链式结构),即将this返回</li>
		</ol>
		<br>
		自定义插件：选取页面上的随机元素并将背景色设为随机色 <br>
		<div></div>
		<div></div>
	</body>
</html>
